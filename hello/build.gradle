apply plugin: 'java'
apply plugin: 'application'
mainClassName = 'hello.HelloWorld'

repositories {
    mavenCentral()
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

dependencies {
    compile "joda-time:joda-time:2.2"
    compile "javax.mail:mail:1.4.7"
    testCompile "junit:junit:4.12"
}

jar {
    baseName = 'gs-gradle'
    version =  '0.1.0'
    // from {
    //     //添加依懒到打包文件
    //     //configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
    //     configurations.runtime.collect{zipTree(it)}
    // } 
    manifest {
        attributes 'Main-Class': 'hello.HelloWorld'
    }
}

task clearJar(type: Delete) {
    delete 'build/libs/lib'
}

task copyJar(type: Copy) {
    from configurations.runtime
    into('build/libs/lib')
}

task release(type: Copy, dependsOn: [build, clearJar, copyJar])

// task wrapper(type: Wrapper) {

//     gradleVersion = '1.11'

// }